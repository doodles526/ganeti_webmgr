{% block head %}
{% load i18n %}

{{ wizard.form.media }}

<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}/css/help_tips.css"/>

<script type='text/javascript'>
  $(document).ready(function() {
    // Inputs which have a help tip.
    var $help_items = $('.has_help_tip');
    /* Binds the event to our inputs,
    passing the focused element to the handler. */
    $help_items.live('focus', this, getHelpTips);

    function getHelpTips(event) {
      // Store the main help container for reuse.
      var $help_container = $('#help');
      // The name of the input corresponds to the help tip's help attribute.
      var help_name = $(this).attr('name');
      var $tip = $help_container.find('div[help="'+help_name+'"]');

      // Hide the previous help tips.
      $help_container.find('div[help]').hide();
      // Make sure the help container isn't hidden
      $help_container.show();
      // Show the tip.
      $tip.show();
    }
  });
</script>

{% endblock %}

<form action="" method="POST">
    {% csrf_token %}
    <table>
        {{ wizard.management_form }}

        {% for field in wizard.form %}
        <tr>
          <th>{{ field.label_tag }}</th>
          <td>{{ field }}</td>
        </tr>
        {% endfor %}
    </table>
    <table>
    {% if wizard.steps.next %}
        <input class="select" type="submit"
            value="{% trans "Next" %}"
            />
    {% else %}
        <input class="select" type="submit"
            value="{% trans "Create VM" %}"
            />
    {% endif %}
    {% if wizard.steps.prev %}
        <button class="select" name="wizard_goto_step" type="submit"
            value="{{ wizard.steps.prev }}"
            />
            {% trans "Previous" %}
        </button>
	      <button class="select" name="wizard_goto_step" type="submit"
            value="{{ wizard.steps.first }}"
	    />
            {% trans "Start Over" %}
        </button>
       {% endif %}

   </table>

</form>

<div id="help">
{% for field in wizard.form %}
  {% if field.help_text != '' %}
    <div help='{{ field.html_name }}' class='help_tip'>
      {{ field.help_text|safe }}
    </div>
  {% endif %}
{% endfor %}
</div>
